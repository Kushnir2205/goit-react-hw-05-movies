{"version":3,"file":"static/js/529.a75c065a.chunk.js","mappings":"2NACA,EAA4B,+BAA5B,EAAmE,2BAAnE,EAAuG,4B,SCgCvG,EA5BoB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SACrB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAMMC,EAAe,SAAAC,GACnBA,EAAMC,iBACNN,EAASE,EACV,EAED,OACE,kBAAMK,UAAWC,EAAeC,SAAUL,EAA1C,WACE,kBACEM,KAAK,OACLC,MAAOT,EACPU,SAdoB,SAAAP,GACxBF,EAASE,EAAMQ,OAAOF,MACvB,EAaKG,YAAY,gBACZP,UAAWC,KAEb,mBAAQD,UAAWC,EAAYE,KAAK,SAASK,QAASX,EAAtD,sBAKL,E,QCWD,EAlCe,WACb,OAA4BH,EAAAA,EAAAA,UAAS,IAArC,eAAOe,EAAP,KAAeC,EAAf,KACA,GAAkChB,EAAAA,EAAAA,WAAS,GAA3C,eAAOiB,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMrB,EAAQmB,EAAaG,IAAI,SAC3BtB,GACFiB,GAAa,IACbM,EAAAA,EAAAA,IAAavB,GACVwB,MAAK,SAAAC,GAAI,OAAIV,EAAUU,EAAKC,QAAnB,IACTC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,IACXG,SAAQ,kBAAMd,GAAa,EAAnB,KAEXF,EAAU,GAEb,GAAE,CAACI,IAMJ,OACE,4BACE,SAAC,EAAD,CAAarB,SANI,SAAAE,GACnBoB,EAAgB,CAAEpB,MAAAA,GACnB,IAKIgB,GACC,sCAEAF,GAAUA,EAAOkB,OAAS,IAAK,SAACC,EAAA,EAAD,CAAYnB,OAAQA,MAI1D,C","sources":["webpack://react-homework-template/./src/components/SearchMovie/SearchMovie.module.css?c852","components/SearchMovie/SearchMovie.jsx","pages/Movie/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SearchMovie_container__FZySO\",\"input\":\"SearchMovie_input__3IbmL\",\"button\":\"SearchMovie_button__-yGEO\"};","import { useState } from 'react';\n\nimport PropTypes from 'prop-types';\nimport css from './SearchMovie.module.css';\n\nconst SearchMovie = ({ onSearch }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = event => {\n    setQuery(event.target.value);\n  };\n\n  const handleSearch = event => {\n    event.preventDefault();\n    onSearch(query);\n  };\n\n  return (\n    <form className={css.container} onSubmit={handleSearch}>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={handleInputChange}\n        placeholder=\"Search movies\"\n        className={css.input}\n      />\n      <button className={css.button} type=\"button\" onClick={handleSearch}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchMovie;\nSearchMovie.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { searchMovies } from 'api/serviceApi';\nimport ListMovies from 'components/ListMovies/ListMovies';\nimport SearchMovie from 'components/SearchMovie/SearchMovie';\n\nimport PropTypes from 'prop-types';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [serachParams, setSerachParams] = useSearchParams();\n\n  useEffect(() => {\n    const query = serachParams.get('query');\n    if (query) {\n      setIsLoading(true);\n      searchMovies(query)\n        .then(data => setMovies(data.results))\n        .catch(error => console.log(error))\n        .finally(() => setIsLoading(false));\n    } else {\n      setMovies([]);\n    }\n  }, [serachParams]);\n\n  const handleSearch = query => {\n    setSerachParams({ query });\n  };\n\n  return (\n    <div>\n      <SearchMovie onSearch={handleSearch} />\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : (\n        movies && movies.length > 0 && <ListMovies movies={movies} />\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n      name: PropTypes.string,\n    })\n  ),\n};\n"],"names":["onSearch","useState","query","setQuery","handleSearch","event","preventDefault","className","css","onSubmit","type","value","onChange","target","placeholder","onClick","movies","setMovies","isLoading","setIsLoading","useSearchParams","serachParams","setSerachParams","useEffect","get","searchMovies","then","data","results","catch","error","console","log","finally","length","ListMovies"],"sourceRoot":""}